
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Week 8: Acquiring and Manipulating Videos &#8212; The Data Science Labs on Multivariable Calculus</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Week 9: Optical Flow" href="lab08.html" />
    <link rel="prev" title="Week 7: Edge Detection in Images" href="../1_Color_Labs/5_Edge_Detection/lab06.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">The Data Science Labs on Multivariable Calculus</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    About This Course
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Intro
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../0_Introduction/lab0.html">
   Week 1: Introduction
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Color and Grayscale
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Color_Labs/1_Color_Vector/lab01.html">
   Week 2: Color as a Vector
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Color_Labs/1_Color_Vector/lab02.html">
   Week 3: Creating Color with LEDs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Color_Labs/2_Human_Perception/lab03.html">
   Week 4: Human Perception of Color
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Color_Labs/3_Color_Quantization/lab04.html">
   Week 5: Color Quantization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Color_Labs/4_MnMs/lab05.html">
   Week 6: Detect the Color of M&amp;Ms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_Color_Labs/5_Edge_Detection/lab06.html">
   Week 7: Edge Detection in Images
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Video
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Week 8: Acquiring and Manipulating Videos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lab08.html">
   Week 9: Optical Flow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lab09.html">
   Week 10: Motion Detection
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Green's Theorem
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../3_Greens_Theorem_Labs/lab10.html">
   Weeks 12-13: Build a Planimeter
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Design a project of your own
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Final_Project/labfinal.html">
   Weeks 14-15: Final Project
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/TheDataScienceLabs/DataLab_Multivariate_Calculus/main?urlpath=tree/book/labs/2_Video_Labs/lab07.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/TheDataScienceLabs/DataLab_Multivariate_Calculus"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/TheDataScienceLabs/DataLab_Multivariate_Calculus/issues/new?title=Issue%20on%20page%20%2Flabs/2_Video_Labs/lab07.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/labs/2_Video_Labs/lab07.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-00-content-span">
   <span style="color:orange;">
    00. Content
   </span>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-0-required-hardware-span">
   <span style="color:orange;">
    0. Required Hardware
   </span>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-1-reading-videos-with-opencv-span">
   <span style="color:orange;">
    1. Reading Videos with OpenCV
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-1-span">
     <span style="color:red">
      Exercise 1
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-2-modifying-videos-span">
   <span style="color:orange;">
    2. Modifying Videos
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-2-span">
     <span style="color:red">
      Exercise 2
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-3-span">
     <span style="color:red">
      Exercise 3
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-4-span">
     <span style="color:red">
      Exercise 4
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-5-span">
     <span style="color:red">
      Exercise 5
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-3-connecting-the-camera-span">
   <span style="color:orange;">
    3. Connecting the Camera
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wiring-instructions">
     Wiring Instructions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#capturing-a-still-image">
     Capturing a still image
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-6-span">
     <span style="color:red">
      Exercise 6
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#streaming-video">
     Streaming video
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-4-modifying-your-own-video-span">
   <span style="color:orange;">
    4. Modifying Your Own Video
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-7-span">
     <span style="color:red">
      Exercise 7
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-green-reflection-span">
   <span style="color:green">
    Reflection
   </span>
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Week 8: Acquiring and Manipulating Videos</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-00-content-span">
   <span style="color:orange;">
    00. Content
   </span>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-0-required-hardware-span">
   <span style="color:orange;">
    0. Required Hardware
   </span>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-1-reading-videos-with-opencv-span">
   <span style="color:orange;">
    1. Reading Videos with OpenCV
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-1-span">
     <span style="color:red">
      Exercise 1
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-2-modifying-videos-span">
   <span style="color:orange;">
    2. Modifying Videos
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-2-span">
     <span style="color:red">
      Exercise 2
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-3-span">
     <span style="color:red">
      Exercise 3
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-4-span">
     <span style="color:red">
      Exercise 4
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-5-span">
     <span style="color:red">
      Exercise 5
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-3-connecting-the-camera-span">
   <span style="color:orange;">
    3. Connecting the Camera
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wiring-instructions">
     Wiring Instructions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#capturing-a-still-image">
     Capturing a still image
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-6-span">
     <span style="color:red">
      Exercise 6
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#streaming-video">
     Streaming video
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-orange-4-modifying-your-own-video-span">
   <span style="color:orange;">
    4. Modifying Your Own Video
   </span>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#span-style-color-red-exercise-7-span">
     <span style="color:red">
      Exercise 7
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#span-style-color-green-reflection-span">
   <span style="color:green">
    Reflection
   </span>
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="week-8-acquiring-and-manipulating-videos">
<h1>Week 8: Acquiring and Manipulating Videos<a class="headerlink" href="#week-8-acquiring-and-manipulating-videos" title="Permalink to this headline">#</a></h1>
<p><font size="6"> Laboratory 7 </font> <br>
<font size="3"> Last updated August 17, 2022 </font></p>
<section id="span-style-color-orange-00-content-span">
<h2><span style="color:orange;"> 00. Content </span><a class="headerlink" href="#span-style-color-orange-00-content-span" title="Permalink to this headline">#</a></h2>
<p><font size="5"> Mathematics </font></p>
<ul class="simple">
<li><p>N/A</p></li>
</ul>
<p><font size="5"> Programming Skills </font></p>
<ul class="simple">
<li><p>Using Software Documentation</p></li>
<li><p>OpenCV (cv2)</p></li>
</ul>
<p><font size="5"> Embedded Systems </font></p>
<ul class="simple">
<li><p>Thonny and MicroPython</p></li>
</ul>
</section>
<section id="span-style-color-orange-0-required-hardware-span">
<h2><span style="color:orange;"> 0. Required Hardware </span><a class="headerlink" href="#span-style-color-orange-0-required-hardware-span" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Microcontroller: Raspberry Pi Pico</p></li>
<li><p>Breadboard</p></li>
<li><p>USB connector</p></li>
<li><p>Camera (Arducam HM01B0)</p></li>
</ul>
<h3 style="background-color:lightblue"> Write your name and email below: </h3>
<p><strong>Name:</strong> me</p>
<p><strong>Email:</strong> me &#64;purdue.edu</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import numpy as np
import matplotlib.pyplot as plt
import cv2
</pre></div>
</div>
</div>
</div>
</section>
<section id="span-style-color-orange-1-reading-videos-with-opencv-span">
<h2><span style="color:orange;"> 1. Reading Videos with OpenCV </span><a class="headerlink" href="#span-style-color-orange-1-reading-videos-with-opencv-span" title="Permalink to this headline">#</a></h2>
<p>In this lab, we will be using a Python library called OpenCV (cv2). From the <a class="reference external" href="https://docs.opencv.org/4.x/d1/dfb/intro.html">official documentation</a>, “OpenCV is an open-source library that includes several hundreds of computer vision algorithms.” Today, we will mostly be using it to read and display modified video frames, and we will be doing the “vision” in computer vision manually with our own functions.</p>
<p>Run the following cell to read in the video file. Using <code class="docutils literal notranslate"><span class="pre">vid.read()</span></code>, returns two values: the Boolean varible <code class="docutils literal notranslate"><span class="pre">success</span></code>, which is <code class="docutils literal notranslate"><span class="pre">True</span></code> if the frame was read without any errors, and <code class="docutils literal notranslate"><span class="pre">frame</span></code> which is as it sounds the image that is captured from the video. The camera hardware you will connect to your Pico can only return grayscale images, so we are converting each frame to grayscale using the function <code class="docutils literal notranslate"><span class="pre">cv2.cvtColor(frame,</span> <span class="pre">cv2.COLOR_BGR2GRAY)</span></code>. For speed in later computations, it is helpful to reduce the frame size. Here, we’ve scaled down each frame by a factor of 4.</p>
<p>Running the cell will cause a separate window to pop up, displaying the smaller, grayscale video. After reading in the whole video, the separate window will close automatically; you can override this by pressing the “Q” key on your keyboard.</p>
<p>Download the video file we’ll be using for this lab: <a class="reference external" href="https://github.com/TheDataScienceLabs/DataLab_Multivariate_Calculus/blob/main/book/labs/2_Video_Labs/test_vid.mov">test_vid.mov</a>. This is a video from Youtube showing a bouncing ball.</p>
<!-- COPYRIGHTS???? It would be best to make our own. --><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>vid = cv2.VideoCapture(&#39;test_vid.mov&#39;) 
height = vid.get(cv2.CAP_PROP_FRAME_HEIGHT)
width  = vid.get(cv2.CAP_PROP_FRAME_WIDTH) 
scale = 0.25
new_size = (int(width*scale),int(height*scale))

while vid.isOpened():
    success, frame = vid.read()
    if not success:
        print(&quot;Unable to read frame. Exiting ...&quot;)
        break
    frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)
    frame = cv2.resize(frame,dsize=new_size)
    cv2.imshow(&#39;frame&#39;, frame)
    if cv2.waitKey(25) == ord(&#39;q&#39;): # press Q on keyboard to stop
        break
vid.release()
cv2.destroyAllWindows()
</pre></div>
</div>
</div>
</div>
<section id="span-style-color-red-exercise-1-span">
<h3><span style="color:red"> Exercise 1 </span><a class="headerlink" href="#span-style-color-red-exercise-1-span" title="Permalink to this headline">#</a></h3>
<p>Open and watch the above video again, this time scaled down each frame by a factor of 8. How much less CPU time does it take to play the video, compared to when you only scaled it down by a factor 4?</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 1 Below </h3></section>
</section>
<section id="span-style-color-orange-2-modifying-videos-span">
<h2><span style="color:orange;"> 2. Modifying Videos </span><a class="headerlink" href="#span-style-color-orange-2-modifying-videos-span" title="Permalink to this headline">#</a></h2>
<section id="span-style-color-red-exercise-2-span">
<h3><span style="color:red"> Exercise 2 </span><a class="headerlink" href="#span-style-color-red-exercise-2-span" title="Permalink to this headline">#</a></h3>
<p>Read the <a class="reference external" href="https://docs.opencv.org/2.4/modules/highgui/doc/user_interface.html?highlight=waitkey">documentation</a> for the <code class="docutils literal notranslate"><span class="pre">waitKey</span></code> function.</p>
<p><strong>Part 1</strong></p>
<p>Play the video slower than its original playback speed.</p>
<p><strong>Part 2</strong></p>
<p>Play the video faster than its original playback speed.</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 2 Part 1 Below </h3><h3 style="background-color:lightblue"> Write Answers for Exercise 2 Part 2 Below </h3></section>
<section id="span-style-color-red-exercise-3-span">
<h3><span style="color:red"> Exercise 3 </span><a class="headerlink" href="#span-style-color-red-exercise-3-span" title="Permalink to this headline">#</a></h3>
<p>Play the video backward.</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 3 Below </h3></section>
<section id="span-style-color-red-exercise-4-span">
<h3><span style="color:red"> Exercise 4 </span><a class="headerlink" href="#span-style-color-red-exercise-4-span" title="Permalink to this headline">#</a></h3>
<p><strong>Part 1</strong></p>
<p>Flip the video’s visuals over the y-axis.</p>
<p><strong>Part 2</strong></p>
<p>Flip the video’s visuals over the x-axis.</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 4 Part 1 Below </h3><h3 style="background-color:lightblue"> Write Answers for Exercise 4 Part 2 Below </h3><p>Being able to extract specific frames from a video is a useful skill. It can be used, for example, to trim the ends of the video or to remove a section in the middle.</p>
</section>
<section id="span-style-color-red-exercise-5-span">
<h3><span style="color:red"> Exercise 5 </span><a class="headerlink" href="#span-style-color-red-exercise-5-span" title="Permalink to this headline">#</a></h3>
<p>Extract the first 200 frames of the video.</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 5 Below </h3></section>
</section>
<section id="span-style-color-orange-3-connecting-the-camera-span">
<h2><span style="color:orange;"> 3. Connecting the Camera </span><a class="headerlink" href="#span-style-color-orange-3-connecting-the-camera-span" title="Permalink to this headline">#</a></h2>
<p>This time, we will be recording our own videos using the Arducam HM01B0, which is a small camera that can be hooked up to the Pico.</p>
<section id="wiring-instructions">
<h3>Wiring Instructions<a class="headerlink" href="#wiring-instructions" title="Permalink to this headline">#</a></h3>
<p>Please make sure your microcontroller is not plugged to the computer while you are wiring things together. Ask the instructor if you are unsure about your wiring. Use your jumper wires to make the following connections.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>HM01B0</p></th>
<th class="head"><p>Pico</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VCC</p></td>
<td><p>3V3</p></td>
</tr>
<tr class="row-odd"><td><p>SCL</p></td>
<td><p>GP5</p></td>
</tr>
<tr class="row-even"><td><p>SDA</p></td>
<td><p>GP4</p></td>
</tr>
<tr class="row-odd"><td><p>VSYNC</p></td>
<td><p>GP16</p></td>
</tr>
<tr class="row-even"><td><p>HREF</p></td>
<td><p>GP15</p></td>
</tr>
<tr class="row-odd"><td><p>PCLK</p></td>
<td><p>GP14</p></td>
</tr>
<tr class="row-even"><td><p>DO</p></td>
<td><p>GP6</p></td>
</tr>
<tr class="row-odd"><td><p>GND</p></td>
<td><p>GND</p></td>
</tr>
</tbody>
</table>
<!-- ![img](camera.jpg)

*Wiring the Arducam HM01B0 camera* 

![img](camerawiring.jpg)

*Connections to the PICO on breadboard* -->
<p>After ensuring that the wiring is correct, hold down the BOOTSEL button on the Pico and plug it in. Download <a class="reference external" href="https://github.com/TheDataScienceLabs/DataLab_Multivariate_Calculus/blob/main/book/labs/2_Video_Labs/arducam.uf2">arducam.uf2</a> and copy it onto the Pico’s drive, which should have popped up in your folders as an option. The Pico should automatically disconnect once the file has transferred, then its LED will start blinking rapidly.</p>
<p>Once the Pico has been successfully connected, run the following cell to make sure we have detected the Pico successfully.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import time
import serial
from serial.tools import list_ports

PICO_HWID = &quot;2E8A&quot;


def get_pico_port():
    pico_ports = list(list_ports.grep(PICO_HWID))
    if len(pico_ports) == 0:
        raise Exception(
            &quot;No Raspberry Pi Pico was detected. Check to make sure it is plugged in, and that no other programs are accessing it&quot;
        )
    return pico_ports[0].device


print(&quot;Here are all the serial devices detected:&quot;)
for port in list_ports.comports():
    print(port.device, port.hwid)

port = get_pico_port()
print(f&quot;\nselected port {port} as most likely to have a raspberry pi pico&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="capturing-a-still-image">
<h3>Capturing a still image<a class="headerlink" href="#capturing-a-still-image" title="Permalink to this headline">#</a></h3>
<p>Now that the Pico and camera have been connected, run the following cell to get a still image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>buffer = bytearray(96 * 96)
img = np.zeros(shape=(96, 96), dtype=&quot;uint8&quot;)

with serial.Serial(port, timeout=1) as s:
    s.read_until(b&quot;\x55\xAA&quot;)
    s.readinto(buffer)
    img.flat[::-1] = buffer

plt.imshow(img, cmap=&quot;gray&quot;)
plt.show()
</pre></div>
</div>
</div>
</div>
</section>
<section id="span-style-color-red-exercise-6-span">
<h3><span style="color:red"> Exercise 6 </span><a class="headerlink" href="#span-style-color-red-exercise-6-span" title="Permalink to this headline">#</a></h3>
<p>Use the camera to acquire an image of yourself with your hand up, and an image of yourself with your hands down. Use these two frames (you are welcome to use more than 2 frames if desired) to create a video of yourself moving your hands up and down.</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 6 Below </h3></section>
<section id="streaming-video">
<h3>Streaming video<a class="headerlink" href="#streaming-video" title="Permalink to this headline">#</a></h3>
<p>Now that we can capture a still image, the next goal is to stream a video. Both cells will have to be run before the video is streamed to your screen. After running the first one, a still image should pop up but once you run the second cell it should start streaming what your camera is seeing in real-time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>%matplotlib widget

fig, ax = plt.subplots()
render = ax.imshow(img, cmap=&#39;gray&#39;)
plt.show(block=False)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>try:
    with serial.Serial(port, timeout=1) as s:
        while True:
            s.read_until(b&quot;\x55\xAA&quot;)
            s.readinto(buffer)
            img.flat[::-1] = buffer
            render.set_data(img)
            fig.canvas.draw()
except KeyboardInterrupt:
    pass
</pre></div>
</div>
</div>
</div>
<p>When you are done, you will have to hit the <code class="docutils literal notranslate"><span class="pre">Interrupt</span> <span class="pre">Kernel</span></code> button, which can found at the top of the screen (the stop symbol) or under Kernel.</p>
</section>
</section>
<section id="span-style-color-orange-4-modifying-your-own-video-span">
<h2><span style="color:orange;"> 4. Modifying Your Own Video </span><a class="headerlink" href="#span-style-color-orange-4-modifying-your-own-video-span" title="Permalink to this headline">#</a></h2>
<p>Now that you are able to capture your own video, you will try the same modifications you made on the prerecorded videos on the one you recorded.</p>
<section id="span-style-color-red-exercise-7-span">
<h3><span style="color:red"> Exercise 7 </span><a class="headerlink" href="#span-style-color-red-exercise-7-span" title="Permalink to this headline">#</a></h3>
<p>Capture and save a video using the camera.</p>
<p><strong>Part 1:</strong> Either trim both ends of the video or remove a section in the middle.</p>
<p><strong>Part 2:</strong> Record a second video. Splice the two videos together.</p>
<p><strong>Part 3:</strong> Pick an editing function we haven’t mentioned (e.g., adding text, video filters, etc.) and try it out on either the prerecorded video or the one you recorded using the camera.</p>
<h3 style="background-color:lightblue"> Write Answers for Exercise 7 Below </h3><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># how to save a video
fourcc = cv2.VideoWriter_fourcc(*&#39;mp4v&#39;)
out = cv2.VideoWriter()
fps = 30
capsize = # (width,height) of the images added to in the video
success = out.open(&#39;my_video.mp4v&#39;, fourcc, fps, capsize, True)
print(success)
for frame in []: #list of frames
    out.write(frame)
out.release()
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="span-style-color-green-reflection-span">
<h2><span style="color:green"> Reflection </span><a class="headerlink" href="#span-style-color-green-reflection-span" title="Permalink to this headline">#</a></h2>
<p><strong>1. What parts of the lab, if any, do you feel you did well? <br>
2. What are some things you learned today? <br>
3. Are there any topics that could use more clarification? <br>
4. Do you have any suggestions on parts of the lab to improve?</strong></p>
<h3 style="background-color:lightblue"> Write Answers for the Reflection Below </h3></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./labs/2_Video_Labs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../1_Color_Labs/5_Edge_Detection/lab06.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Week 7: Edge Detection in Images</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="lab08.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Week 9: Optical Flow</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Kindyl King and Mireille Boutin  with Alden Bradford and Julia Long# The author of the book<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>